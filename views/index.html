

<body>

<div id="header"> <h1> <%= title %> </h1> </div>


<div id="text-wrap" style="text-size:19px">
<p> I've created this page to help you learn d3, and to make <br/> that happen fast! The first example appends a div element to the body. </p>

<code > d3.select("body").append("div").text("This text made with d3!");
</code> <br/> <br/>

<p> And here's the code at work!! </p>

<div id="code1">  
<script src="//cdnjs.cloudflare.com/ajax/libs/d3/3.4.2/d3.js"> </script>
<script>
var code1 = d3.select("#code1").append("div").text("This text made with d3!");
</script>

</div>



Hopefully to see what we're trying to do here, nothing special, <br/> 
just creating a div element with some text and appending it to the body. <br>

Now lets do some svg basics. SVG (Scalable Vector Graphics) is a simple and <br>
powerful graphics generator. Here's how to make a line, square, rectanle, <br>
circle and ellipse. <br>
<br>






<svg width="275" height="50">
  <circle cx="22" cy="22" r="18" fill="green" />
  <ellipse cx="80" cy="20" rx="27" ry="14" fill="purple" />
  <rect x="120" y="8" height="28" width="50" fill="blue" />
  <rect x="190" y="8" height="30" width="30" fill="red" />
</svg>



<br>

<code id="code" style="text-align:left">

<p>

&lt;svg width="275" height="50"&gt; <br>
  &lt;circle cx="22" cy="22" r="18" fill="green" /&gt; <br>
  &lt;ellipse cx="80" cy="20" rx="27" ry="14" fill="purple" /&gt; <br>
  &lt;rect x="120" y="8" height="28" width="50" fill="blue" /&gt; <br>
  &lt;rect x="190" y="8" height="30" width="30" fill="red" /&gt; <br>
&lt;/svg&gt; <br>

</p>


</code>



Now let's do the same thing but with d3!

<div id="svgDiv"></div>
<script>
	var svgContainer = d3.select("#svgDiv").append("svg")
											.attr("width", 275)
											.attr("height", 50)

     var circle = svgContainer.append("circle")
     						  .attr("cx", 22)
     						  .attr("cy", 22)
     						  .attr("r", 18)
     						  .attr("fill", "green")
    
     var myEllipse = svgContainer.append("ellipse")
     						  .attr("cx", 80)
     						  .attr("cy", 20)
     						  .attr("rx", 27)
     						  .attr("ry", 14)
     						  .attr("fill", "purple")

     var rect = svgContainer.append("rect")
     						  .attr("x", 120)
     						  .attr("y", 8)
     						  .attr("height", 28)
     						  .attr("width",  50)
     						  .attr("fill", "blue")

     var sqr = svgContainer.append("rect")
     						  .attr("x", 190)
     						  .attr("y", 8)
     						  .attr("height", 30)
     						  .attr("width",  30)
     						  .attr("fill", "red")

</script>

Now that we've got the basics of SVG's down, we can see where<br>
d3 gets really powerful, which is making shapes using data! <br>

To do this, we have to have some data: in the real worl you <br>
may be getting data from any number of sources, but to star <br>
we're going to make ourselves an array to begin with. <br>
Lets start with an array of my golf scores. We can <br>
do this: var scores = [78, 86, 93, 78, 99, 82, 75, 83, 80] <br>
No we'll turn this into a bar chart! <br>

<div id="barChart"></div>
<script>
	var scores = [78, 86, 93, 78, 99, 82, 75, 83, 80]; 
	var width = 600;
	var height = 300;

	var canvas = d3.select("#barChart")
					.append("svg")	
					.attr("width", width)
					.attr("height", height);

	var bars = canvas.selectAll("rect")
					 .data(scores)			
					 .enter()
					 		.append("rect")
					 		.attr("width", 50)
					 		.attr("height", function(d) { return d;})
					 		.attr("x", function(d,i) { return i * 75})
					 		.attr("fill", "green");
</script>
<br>
Now we're rolling! It's upside down, but we'll get to that in a bit.<br>
Let's break down the code a bit. <br>

<br>
<div id="barChart2"></div>
<script>
	var scores = [78, 86, 93, 78, 99, 82, 75, 83, 80]; 
	var width = 600;
	var height = 300;

	var canvas = d3.select("#barChart2")
					.append("svg")	
					.attr("width", width)
					.attr("height", height);

	var bars = canvas.selectAll("rect")
					 .data(scores)			
					 .enter()
					 		.append("rect")
					 		.attr("width", 50)
					 		.attr("height", function(d) { return d;})
					 		.attr("x", function(d,i) { return i * 75})
					 		.attr("y", function(d) { return height - d;})
					 		.attr("fill", "green");
</script>




<p> Ok now we're getting somewhere. <br>
	Now its time to get on to scaling. We've got a graph that works <br>
	Well now for my golf scores, but what if we added a new golfer to <br>
	chart who had MUCH higher scores. That's what scaling is for, so you <br>
	can handle big outliers and eventually do a whole more. 

</p>


<div id="barChart3"></div>


<script>
	var myScores = [78, 86, 93, 78, 99, 82, 75, 83, 80, 160, 183, 200];
	var width = 700;
	var height = 300;

	var heightScale = d3.scale.linear()
					  .domain([0, 200])   // set range of min/max of data
					  .range([0, height]);

	var canvas = d3.select("#barChart3")
					.append("svg")	
					.attr("width", width)
					.attr("height", height);

	var myBars = canvas.selectAll("rect")
					 .data(myScores)			
					 .enter()
					 		.append("rect")
					 		.attr("width", 50)
					 		.attr("height", function(d) { return heightScale(d); })
					 		.attr("x", function(d,i) { return i * 55})
					 		.attr("y", function(d) { return height - d;})
					 		.attr("fill", "green");


</script>





<p> Now its time to work with some grouping and axes! 

</p>


<div id="barChart4"></div>

<script>
	var myScores = [78, 86, 93, 78, 99, 82, 75, 83, 80, 160, 183, 200];
	var width = 700;
	var height = 300;

	var heightScale = d3.scale.linear()
					  .domain([0, 200])   // set range of min/max of data
					  .range([0, height]);


	var axis = d3.svg.axis()
			   .scale(heightScale);

	var canvas = d3.select("#barChart4")
					.append("svg")	
					.attr("width", width)
					.attr("height", height)
					// place in a group element
					.append("g")
					// move the element
					.attr("transform", "translate(50, 10)");
	
	canvas.append("g")
		.attr("transform", "translate(10, 10)")
		.call(axis);


	var myBars = canvas.selectAll("rect")
					 .data(myScores)			
					 .enter()
					 		.append("rect")
					 		.attr("width", 50)
					 		.attr("height", function(d) { return heightScale(d); })
					 		.attr("x", function(d,i) { return i * 55})
					 		.attr("y", function(d) { return height - d;})
					 		.attr("fill", "green");


</script>




</div>
<script>
	// Set the background color
	function bgColor (color) {
		document.body.style.background = color;
	};

	bgColor("B1E8A9");


	// Style the page up!	
		// Header
	var header = document.getElementById('header');
	var hs = header.style;
	
	hs.position = ('relative');
	hs.backgroundColor = ('white');
	hs.padding = ('1em');
	hs.width = ('60%');
	hs.textAlign = ('center');
	hs.left = ('18%');
	hs.borderRadius = ('.8em');
	
		// Main Content
	var textWrap = document.getElementById('text-wrap');
	var tws = textWrap.style;
	
	tws.backgroundColor = ('white');
	tws.position = ('relative');
	tws.width = ('75%');
	tws.left = ('12.5%');
	tws.textAlign = ('center');
	tws.fontFamily('helvetica');
	tws.borderRadius = ('.8em');
	tws.top = ('1.7em');
	tws.padding = ('.7em');
	tws.paddingBottom = ('2.3em');
	

	

</script>





</body>